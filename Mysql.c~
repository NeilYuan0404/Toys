#include<mysql.h>
#include<stdio.h>
#include<string.h>
// C U R D

#define NEIL_DB_SERVER_IP "172.30.229.211"
#define NEIL_DB_SERVER_PORT 3306
#define NEIL_DB_USERNAME "admin"
#define NEIL_DB_PASSWORD "Yuan1234"
#define NEIL_DB_DEFAULTDB "Neil_db"

#define SQL_INSERT_TBL_USER "insert tbl_user(u_name, u_gender) value('Alice', 'female');"

int main() {
  MYSQL mysql;
  //连接数据库，handler
  if(NULL == mysql_init(&mysql)) {
    printf("mysqi_init:%s\n", mysql_error(&mysql));
    return -1;
  }
  //这个返回值很特殊，非0值是成功
  if(!mysql_real_connect(&mysql,
			 NEIL_DB_SERVER_IP,
			 NEIL_DB_USERNAME,
			 NEIL_DB_PASSWORD,
			 NEIL_DB_DEFAULTDB,
			 NEIL_DB_SERVER_PORT,
			 NULL,
			 0)) {
    printf("mysqi_real_conncet:%s\n", mysql_error(&mysql));

    return -2；
  }
  //mysql --> insert
  if(mysql_real_query(&mysql, SQL_INSERT_TBL_USER, strlen(SQL_INSERT_TBL_USER))) {
    mysql_close(&mysql);
    return 0;
  }
  
}
